<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
        <meta charset="UTF-8"/>
    </head>
    <body>
        <p>
            <div class="choicesBtn">
                <button id="rock" data-button="rock">rock</button>
                <button id="paper" data-button="paper">Paper</button>
                <button id="scissors" data-button="scissors">Scissors</button>
                
                <!--<button id ="rockBtn">Rock</button> -->
            </div>

            <div class="scores">
                <div id="playerScore">Player score: </div>
                <div id="computerScore">Computer score:</div>
            </div>

            <div>Result:</div>
                <div id="results"></div>

        </p>
        <script>
           const choicesBtn = document.querySelectorAll('div.choicesBtn button');
            choicesBtn.forEach(button => {
                button.addEventListener('click', getPlayerChoice)            
            });


            const playerPoints = document.querySelector('#playerScore');
            const computerPoints = document.querySelector('#computerScore');
            const results = document.querySelector('#results');

            let playerScore = 0;
            let computerScore = 0;
            let drawScore = 0;
            let playerChoice;

            /*function playerPlay() {
                let choice = prompt('Rock, paper, scissors?').toLowerCase();
                if (choice != 'rock' && (choice != 'paper') && (choice !='scissors')) {
                alert('Invalid choice');
                } else  {
                return choice;
            }
        }
        */

            function computerPlay() {
                let random = Math.random() * 3;
                return random < 1 ? 'rock'
                : random < 2 ? 'paper'
                : 'scissors';
            }

            function playRound (playerSelection, computerSelection) {
                //playerSelection = this.dataset.button;
                if (playerSelection == computerSelection) {
                    drawScore ++;
                    results.textContent = 'It\'s a tie!';
                } else if ((playerSelection == 'rock' && computerSelection == 'scissors')  || 
                    (playerSelection == 'paper' && computerSelection == 'rock') ||
                    (playerSelection == 'scissors' && computerSelection == 'paper')) {
                     playerPoints.textContent = 'Player score: ' + ++playerScore;
                     results.textContent = 'You win!';
                 } else { 
                    computerPoints.textContent = 'Computer score: ' + ++computerScore;
                    results.textContent = 'You lose.';
                }
            }

            function game() {
                let gameOver = false;
                while (gameOver == false) {
                    let computerSelection = computerPlay();
                    //let playerSelection = playerPlay();
                    playRound (playerSelection, computerSelection);
                    if ((playerScore == 5) || (computerScore == 5)) {
                        gameOver = true;
                    }
                }
            }    
           
            /*rockBtn.addEventListener('click', playRound);
            paperBtn.addEventListener('click', playRound);
            scissorsBtn.addEventListener('click', playRound);*/

            function getPlayerChoice(event) {
                let playerSelection = (event.target.id);
                playerChoice = event.target.textContent;
                playRound(playerSelection, computerPlay());
            }

        //game();      
        
        //document.getElementById("rockBtn").addEventListener("click", function playRound(rock, computerSelection) {

        //});
  
        </script>
    </body>
</html>